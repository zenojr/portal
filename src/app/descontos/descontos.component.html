
<mat-grid-list cols="3" rowHeight="5:2">
    <mat-grid-tile>
      <div class="logo">
          <img src="../../assets/img/pt_logoCorfio.png" alt="">  
      </div>
    </mat-grid-tile>
    <mat-grid-tile>
        <table>
            <tr>
              <td><strong>Data:</strong></td>
              <td>{{ date | date: "short"  }}</td>
            </tr>
            <tr>
              <td><strong>Usuário:</strong></td>
              <td>{{ user | uppercase }}</td>
            </tr>
        </table>  
    </mat-grid-tile>
  </mat-grid-list>
<div class='filtrosDetails'> 
    <h3>Filtros Adicionados:</h3>
    <ul class='ulFiltros' *ngFor='let item of filterAdd'>
      <li> {{ item }} </li>
    </ul>

</div>
  
<div class="comboboxFormsMain">
  <div>
    <mat-form-field>
      <input matInput (keyup)="callFilterPredicate($event.target.value)" placeholder="Filtro Geral">
    </mat-form-field>
  </div>

  
  <div>
  
    <mat-form-field>
      <mat-select [(ngModel)] = "selectedOption" placeholder="Estab.Vda">
        <mat-option *ngFor="let item of dataSource.data | groupByCodEstabel" [value]="item.codEstabel">
          {{item.codEstabel }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-select [(ngModel)] = "selectedOption" placeholder="Contribuinte">
        <mat-option *ngFor="let item of dataSource.data | groupByContrib " [value]="item.contrib">
          {{item.contrib | descontosContrib }}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="contSelect">
    <mat-form-field>
      <mat-select [(ngModel)] ="selectedOption"  placeholder="Estado">
        <mat-option *ngFor="let item of dataSource.data | groupByUF" [value]="item.uf">
          {{item.uf}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-select [(ngModel)] = "selectedOption" placeholder="Região">
        <mat-option *ngFor="let item of dataSource.data | groupByRegiao" [value]="item.regiao">
          {{item.regiao}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div>
    <mat-form-field>
      <mat-select [(ngModel)] = "selectedOption" placeholder="Numero Tab">
        <mat-option *ngFor="let item of dataSource.data | groupByNumeroTab" [value]="item.sufixoCv">
          {{item.sufixoCv | slice:0:7 }}
        </mat-option>
      </mat-select>
    </mat-form-field>
    
  </div>
  
</div>

<div>
    <button mat-button color='primary' (click)="filtro()">Aplicar Filtro</button>
    <button mat-button color='accent' (click)="addFiltro()">Add Filtro</button> 
    <button mat-button color="warn" (click)="limpaFiltro()" >Limpar Filtro</button>    
</div>

<div>
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
    
        <!--- Note that these columns can be defined in any order.
              The actual rendered columns are set as a property on the row definition" -->

        <ng-container matColumnDef="codEstabel" >
          <th mat-header-cell *matHeaderCellDef> 
          Estab.Vda. 
          <mat-form-field class="filter" floatLabel="never">
              <mat-label>Search</mat-label>
              <input matInput [formControl]="estabVdaFilter">
            </mat-form-field>
          </th>
          <td mat-cell *matCellDef="let item"> {{item.codEstabel }} </td>
        </ng-container>
        
        <ng-container matColumnDef="uf">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Estado </th>
          <td mat-cell *matCellDef="let item"> {{item.uf}} </td>
        </ng-container>
        
        <ng-container matColumnDef="regiao">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Região </th>
          <td mat-cell *matCellDef="let item"> {{item.regiao}} </td>
        </ng-container>
      
        <ng-container matColumnDef="contrib">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Contribuinte </th>
          <td mat-cell *matCellDef="let item"> {{item.contrib | descontosContrib }} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmFio">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Fio </th>
          <td mat-cell *matCellDef="let item"> {{item.fmFio }} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmParalelo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Paralelo </th>
          <td mat-cell *matCellDef="let item"> {{ item.fmParalelo }} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmPp">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> PP </th>
          <td mat-cell *matCellDef="let item"> {{item.fmPp}} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmFlex">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Flex </th>
          <td mat-cell *matCellDef="let item"> {{item.fmFlex }} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmCabo">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Cabo </th>
          <td mat-cell *matCellDef="let item"> {{item.fmCabo }} </td>
        </ng-container>
    
        <ng-container matColumnDef="fmNu">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Nu </th>
          <td mat-cell *matCellDef="let item"> {{item.fmNu }} </td>
        </ng-container>
    
        <ng-container matColumnDef="sufixoCv">
          <th mat-header-cell *matHeaderCellDef mat-sort-header> Numero TAB </th>
          <td mat-cell *matCellDef="let item"> {{item.sufixoCv | limpaSufixoCv }} </td>
        </ng-container>
      
        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    
      </table>
  <mat-paginator #paginator 
    [length]="dataSource?.filteredData.length"
    [pageIndex]="0"
    [pageSize]="25"
    [pageSizeOptions]="[5, 25, 50, 100]">
  </mat-paginator>
</div>


 

  
  
  
